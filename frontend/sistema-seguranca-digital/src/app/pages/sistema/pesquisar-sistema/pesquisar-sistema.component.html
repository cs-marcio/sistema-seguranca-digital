<div class="card mt-4">

    <div *ngIf="hasError" class="alert alert-danger">
        Falha ao tentar realizar a pesquisa. Tente novamente.
    </div>

    <h4 class="card-header">Pesquisar Sistema</h4>
    <div class="card-body">
        <form [formGroup]="pesquisaSistemaForm">

            <div class="form-group row">
                <div class="col">
                    <label class="w-100 p-1 border-bottom" for="descricao">Descrição</label>
                </div>
                <div class="col">
                    <input class="form-control form-control-sm" type="text" formControlName="descricao" />
                </div>
            </div>

            <div class="form-group row">
                <div class="col">
                    <label class="w-100 p-1 border-bottom" for="sigla">Sigla</label>
                </div>
                <div class="col">
                    <input class="form-control form-control-sm" type="text" formControlName="sigla" />
                </div>
            </div>

            <div class="form-group row">
                <div class="col">
                    <label class="w-100 p-1 border-bottom" for="email">E-mail de atendimento do sistema</label>
                </div>
                <div class="col">
                    <input class="form-control form-control-sm" type="text" formControlName="email" />
                    <div  class="d-flex justify-content-end" *ngIf="f.email.errors">
                        <small *ngIf="f.email.errors.email" class="form-text text-muted">
                            E-mail inválido.
                        </small>
                    </div>
                </div>
            </div>
        </form>

        <br>
        <div class="row">
            <div class="col-12">
                <table *ngIf="submitted" class="table table-sm table-hover" id="table-sistemas" datatable
                    [dtOptions]="dtOptions"></table>
            </div>
        </div>

        <div class="row d-flex justify-content-end">
            <button [disabled]="loading || submitted" class="m-3 btn btn-light" (click)="onSubmit()">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Pesquisar
            </button>
            <button class="m-3 btn btn-light" (click)="clearForm()">Limpar</button>

            <button class="m-3 btn btn-light" [routerLink]="'/cadastrar-sistema'">Novo sistema</button>
        </div>
    </div>
</div>